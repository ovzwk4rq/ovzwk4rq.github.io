---
layout: post
title: 라우팅 테이블과 서브넷 마스크
---
라우팅 테이블에는 적어도 다음 세가지 필드가 있다고 한다.
1. network identifier
2. metric
3. next hop

network identifier는 네트워크 주소와 서브넷 마스크로 이루어진 정보이고, metric은 목적지 네트워크까지 패킷이 가는데 드는 비용과 관련된 값이고, next hop은 패킷을 보낼 다음 라우터의 인터페이스의 ip 주소이다.

리눅스에서는 `ip route` 명령어를 사용하여 라우팅 테이블을 확인할 수 있다.

라우팅 테이블을 보면 항상 직접 연결된 네트워크(라우터를 포함하지 않는 네트워크)가 목적지인 행이 있는데, 당연히 그런 행은 next hop이 없다.

그러한 행을 만들기 위해서는 직접 연결된 네트워크의 주소와 서브넷 마스크를 알아야 하는데, 인터페이스에 설정된 ip 주소와 서브넷 마스크가 여기에 쓰이는 것이라고 한다.

그러니까 인터페이스에 설정하는 서브넷 마스크는 인터페이스에 직접 연결된, 라우터를 포함하지 않는 네트워크의 서브넷 마스크인 것이고, 라우팅 테이블의 일반적인 행(직접 연결된 네트워크가 목적지인것 말고)에 있는 서브넷 마스크가 나타내는 서브넷은 라우터를 포함하는 네트워크일수도 있고 포함하지 않는 네트워크일수도 있는 것이다.

무슨 괴상한 글의 흐름인가 싶겠지만, 대충 위와 같은 과정을 거쳐서 내가 헷갈렸던 여러가지가 한번에 정리되어서 혹시나 까먹을까봐 기록한다는 것이 이렇게 되었다.
